<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>The Senior‚Äôs Room ‚Äì EchoRooms</title>
  <style>
    body {
      margin: 0;
      padding: 30px;
      background: linear-gradient(135deg, #f7f1f1, #e3dada);
      font-family: 'Georgia', serif;
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow-x: hidden;
    }

    .story-box {
      max-width: 700px;
      background: rgba(255, 255, 255, 0.9);
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 5px 25px rgba(0,0,0,0.2);
      margin-bottom: 20px;
      font-size: 1.2em;
      line-height: 1.6em;
      opacity: 0;
      transition: opacity 1.5s ease-in-out;
    }

    .story-box.visible {
      opacity: 1;
    }

    .next-button {
      padding: 10px 20px;
      margin-top: 20px;
      background: #cc6699;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 1em;
      cursor: pointer;
      transition: background 0.3s;
    }

    .next-button:hover {
      background: #a14d78;
    }

    .choice-btn {
      margin: 10px;
      padding: 10px 20px;
      border: none;
      background: #999;
      color: white;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .choice-btn:hover {
      background: #555;
    }

    .action-links {
      margin-top: 30px;
    }

    .action-links a {
      display: block;
      margin: 8px 0;
      color: #cc6699;
      text-decoration: none;
      font-weight: bold;
    }

    .hidden { display: none; }

    .background-music {
      display: none;
    }
  </style>
</head>
<body>
  <audio class="background-music" autoplay loop>
    <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_6bdeae4b98.mp3" type="audio/mpeg">
  </audio>

  <div class="story-box" id="storyBox"></div>
  
  <div id="choices" class="hidden"></div>
  <div id="actions" class="action-links hidden"></div>
  <button class="next-button" id="nextBtn">Next</button>

  <script>
    const story = [
      "You step into a living room wrapped in stillness. The clock ticks ‚Äî each second a small reminder of absence.",
      "A photo frame rests quietly on the mantle: a woman, her husband, children ‚Äî frozen smiles from a distant past.",
      "She prepares tea for one. No voices fill the room. Just the sound of boiling water and waiting.",
      "‚ÄòMaybe today they‚Äôll remember,‚Äô she whispers, pouring into a cup she may not finish.",
      "But silence is louder than any reply.",
      "Her fingers scroll through a glowing screen. Weddings, holidays, lives moving forward ‚Äî without her.",
      "A whisper in her mind: 'Did I fade... or was I simply erased?'",
      "The phone rings. A gasp ‚Äî a flicker of hope. But it‚Äôs a wrong number. Silence, again.",
      "She lowers her gaze. The light in her eyes dims. Somewhere inside you, something stirs ‚Äî a question: will you let her fade alone?"
    ];
    
function toggleMusic() {
  const music = document.getElementById('bg-music');
  if (music.paused) {
    music.play();
  } else {
    music.pause();
  }
}

    const storyBox = document.getElementById('storyBox');
    const nextBtn = document.getElementById('nextBtn');
    const choices = document.getElementById('choices');
    const actions = document.getElementById('actions');

    let index = 0;

    function showNext() {
      if (index < story.length) {
        storyBox.classList.remove('visible');
        setTimeout(() => {
          storyBox.innerHTML = story[index];
          storyBox.classList.add('visible');
          index++;
        }, 500);
      } else {
        nextBtn.classList.add('hidden');
        showChoices();
      }
    }

   function showChoices() {
  choices.classList.remove('hidden');
  choices.innerHTML = `
    <button class="choice-btn" onclick="showOutcome('call')">üìû Call your grandmother</button>
    <button class="choice-btn" onclick="showOutcome('visit')">üè° Visit a retirement home</button>
    <button class="choice-btn" onclick="showOutcome('ignore')">üö™ Walk away silently</button>
    <button class="choice-btn" onclick="toggleMusic()">üîá Pause / Play Music</button>
  `;
}


    function showOutcome(choice) {
      choices.classList.add('hidden');
      storyBox.classList.remove('visible');
      setTimeout(() => {
        storyBox.innerHTML = "";
        if (choice === 'call') {
          storyBox.innerHTML = "You dial her number. Her voice trembles ‚Äî not from age, but from surprise. You hear her breathe in the warmth of being remembered.";
        } else if (choice === 'visit') {
          storyBox.innerHTML = "You walk into a retirement home. She looks up. For the first time in days, someone listens to her story. And it matters.";
        } else {
          storyBox.innerHTML = "You step back into the world. Her window grows smaller in the distance. And the silence behind it grows deeper still.";
        }
        storyBox.classList.add('visible');
        showActions();
      }, 500);
    }

    function showActions() {
      actions.classList.remove('hidden');
      actions.innerHTML = `
        <p><strong>Let‚Äôs not let them disappear in silence.</strong></p>
        <a href="https://www.alonetogether.org.uk" target="_blank">ü´∂ Volunteer with senior outreach programs</a>
        <a href="https://www.makeagift.org" target="_blank">üéÅ Send letters or gifts to elderly people in homes</a>
        <a href="mailto:grandma@example.com">üìß Reach out to someone who waits for your voice</a>
        <a href="menu.html">‚Üê Back to EchoRooms Menu</a>
      `;
    }

    nextBtn.addEventListener('click', showNext);

    showNext();
  </script>
<audio id="bg-music" loop>
  <source src="https://cdn.pixabay.com/audio/2023/03/20/audio_5222b00179.mp3" type="audio/mpeg">
  Ton navigateur ne supporte pas l‚Äôaudio HTML5.
</audio>

<button id="play-btn" style="position:fixed; bottom:20px; left:20px; z-index:999; padding:10px 20px; background:#cc6699; color:white; border:none; border-radius:8px;">
  üéµ Lancer la musique
</button>

<script>
  const audio = document.getElementById("bg-music");
  const playBtn = document.getElementById("play-btn");

  playBtn.addEventListener("click", () => {
    audio.play().then(() => {
      playBtn.style.display = "none";
    }).catch((e) => {
      alert("Erreur : la musique ne peut pas √™tre jou√©e.");
      console.error(e);
    });
  });

  function toggleMusic() {
    if (audio.paused) {
      audio.play();
    } else {
      audio.pause();
    }
  }
</script>

</body>
</html>
